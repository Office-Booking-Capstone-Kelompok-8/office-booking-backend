openapi: 3.0.3
info:
  title: OfficeZone API
  description: OfficeZone office space booking API
  version: 1.0.0

servers:
  - url: 'https://dev.fortyfourvisual.com/v1'
    description: Development server
  - url: 'https://staging.fortyfourvisual.com/v1'
    description: Staging server
  - url: 'https://api.fortyfourvisual.com/v1'
    description: Production server
  - url: '{path}'
    variables:
      path:
        default: 'dev.fortyfourvisual.com/v1'
        description: Development server

paths:
  /ping:
    get:
      summary: Ping
      description: Ping the server
      operationId: ping
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Pong
  /auth/register:
    post:
      summary: Register a new user
      operationId: registerUser
      tags:
        - Auth
      requestBody:
        description: User registration details
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: John Doe
                email:
                  type: string
                  format: email
                  example: oz@mail.com
                password:
                  type: string
                  format: password
                  example: password
                phone:
                  type: string
                  description: Phone number, numbers only
                  example: 6212342342
      responses:
        201:
          description: Successfully registering a new user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user created successfully
                  data:
                    type: object
                    properties:
                      uid:
                        type: string
                        example: 5f7f9c9c-8b9a-4b9c-9c9c-8b9a4b9c9c9c
        409:
          $ref: '#/components/responses/EmailAlreadyUsed'
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
                InvalidPassword:
                  $ref: '#/components/examples/InvalidPassword'
        500:
          $ref: '#/components/responses/InternalServerError'

  /auth/login:
    post:
      summary: Login
      operationId: login
      tags:
        - Auth
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  example: oz@mail.com
                password:
                  type: string
                  format: password
                  minLength: 8
                  example: password
        required: true
      responses:
        200:
          description: Successfully logged in
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Login successful
                  data:
                    type: object
                    properties:
                      role:
                        type: integer
                        example: 1
                      accessExpAt:
                        type: integer
                        description: Access token expiration at time in unix timestamp
                        example: 1670702055
                      accessToken:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySUQiOiI3MTg1OGNmMS1lNDhkLTQzYmQtOGU0YS1jZDNkNGE1YjIwMDMiLCJyb2xlIjoxLCJleHAiOjB9.G0PITHn6gz-fu6kqrZYwBc_bAca1YCZvMNGFvKHDytk
                      refreshExpAt:
                        type: integer
                        description: Refresh token expiration at time in unix timestamp
                        example: 1670702055
                      refreshToken:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySUQiOiI3MTg1OGNmMS1lNDhkLTQzYmQtOGU0YS1jZDNkNGE1YjIwMDMiLCJyb2xlIjoxLCJleHAiOjB9.G0PITHn6gz-fu6kqrZYwBc_bAca1YCZvMNGFvKHDytk
        401:
          description: Invalid credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: invalid email or password
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
        500:
          $ref: '#/components/responses/InternalServerError'

  /auth/logout:
    post:
      summary: Logout
      operationId: logout
      tags:
        - Auth
      security:
        - refresh_token: []
      responses:
        200:
          description: Successfully logged out
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Logout successful
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        500:
          $ref: '#/components/responses/InternalServerError'

  /auth/refresh:
    post:
      summary: Refresh access token
      operationId: refreshAccessToken
      tags:
        - Auth
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - refreshToken
              properties:
                refreshToken:
                  type: string
                  format: jwt
                  example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NzA0NTgwNDksImp0aSI6IjBiNGFmZmY5LTg0NzAtNDkxNi04NDEyLTllNjY3M2RhMmU0NyIsInVpZCI6IjY4ZjA2M2M0LTBjZGItNDJlNi1hNjFiLTg4NTg3MzkwMmJmZCIsImNhdCI6InJlZnJlc2gifQ.X0a_rKDJzQVSbgtN2BahhhVgJThemckCuImo6Axp0vg
        required: true
      responses:
        200:
          description: Successfully refreshed access token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Refresh successful
                  data:
                    type: object
                    properties:
                      role:
                        type: integer
                        example: 1
                      accessExpAt:
                        type: integer
                        description: Access token expiration at time in unix timestamp
                        example: 1670702055
                      accessToken:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySUQiOiI3MTg1OGNmMS1lNDhkLTQzYmQtOGU0YS1jZDNkNGE1YjIwMDMiLCJyb2xlIjoxLCJleHAiOjB9.G0PITHn6gz-fu6kqrZYwBc_bAca1YCZvMNGFvKHDytk
                      refreshExpAt:
                        type: integer
                        description: Refresh token expiration at time in unix timestamp
                        example: 1670702055
                      refreshToken:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySUQiOiI3MTg1OGNmMS1lNDhkLTQzYmQtOGU0YS1jZDNkNGE1YjIwMDMiLCJyb2xlIjoxLCJleHAiOjB9.G0PITHn6gz-fu6kqrZYwBc_bAca1YCZvMNGFvKHDytk
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        500:
          $ref: '#/components/responses/InternalServerError'

  /auth/otp/request/email:
    post:
      summary: Request OTP for verifying email
      operationId: requestOtpForEmail
      tags:
        - Auth
      security:
        - access_token: []
      responses:
        200:
          description: OTP sent successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: otp sent successfully
        404:
          $ref: '#/components/responses/UserNotFound'
        409:
          description: Email already verified
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: email already verified
        429:
          description: Too many requests sent in a short period of time. OTP can be requested only once every 60 seconds
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: too many requests
        500:
          $ref: '#/components/responses/InternalServerError'

  /auth/otp/verify/email:
    post:
      summary: Verify OTP for verifying email
      operationId: verifyOtpForEmail
      tags:
        - Auth
      security:
        - access_token: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - code
              properties:
                code:
                  type: string
                  example: 123456
        required: true
      responses:
        200:
          description: OTP verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: email verified successfully
                   
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
        401:
          description: Invalid OTP
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidOTP:
                  $ref: '#/components/examples/InvalidOTP'
        500:
          $ref: '#/components/responses/InternalServerError'

  /auth/otp/request/reset-password:
    post:
      summary: Request OTP for reset password
      operationId: requestResetPasswordOTP
      tags:
        - Auth
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: a@a.com
        required: true
      responses:
        200:
          description: OTP sent successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: otp sent successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
        404:
          $ref: '#/components/responses/UserNotFound'
        429:
          description: Too many requests sent in a short period of time. OTP can be requested only once every 60 seconds
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: too many requests
                
        500:
          $ref: '#/components/responses/InternalServerError'
  /auth/otp/verify/reset-password:
    post:
      summary: Verify Reset Password OTP
      operationId: verifyResetPasswordOTP
      tags:
        - Auth
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - code
              properties:
                email:
                  type: string
                  format: email
                  example: a@a.com
                code:
                  type: string
                  example: 123456
        required: true
      responses:
        200:
          description: OTP verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: otp verified successfully
                  data:
                    type: object
                    properties:
                      key:
                        type: string
                        example: 12345adaasdadd6   
                  
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
        401:
          description: Invalid OTP
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidOTP:
                  $ref: '#/components/examples/InvalidOTP'
        500:
          $ref: '#/components/responses/InternalServerError'

  /auth/reset-password:
    put:
      summary: Reset password
      operationId: resetPassword
      tags:
        - Auth
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - key
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: a@a.com
                key:
                  type: string
                  example: 12345adaasdadd6
                password:
                  type: string
                  minLength: 8
                  example: 123456789
        required: true
      responses:
        200:
          description: Password reset successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: password reset successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
                InvalidPassword:
                  $ref: '#/components/examples/InvalidPassword'
        401:
          description: Invalid OTP Token
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: invalid OTP token
        404:
          $ref: '#/components/responses/UserNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
                
  /users:
    get:
      summary: Get logged in user detail
      operationId: getUserDetail
      security:
        - access_token : []
      tags:
        - EndUser.Users
      responses:
        200:
          description: Successfully retrieved user details
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user details retrieved successfully
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
                      email:
                        type: string
                        example: of@mail.com
                      name:
                        type: string
                        example: John Doe
                      phone:
                        type: string
                        example: +1 234 567 890
                      picture:
                        type: string
                        format: uri
                        example: https://example.com/picture.jpg
                      role:
                        type: integer
                        example: 1
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/UserNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
    put:
      summary: Update logged in user details
      operationId: updateUserDetail
      security:
        - access_token: []
      tags:
        - EndUser.Users
      requestBody:
        content:
          application/json:
            schema:
              type: object
              minProperties: 1
              properties:
                name:
                  type: string
                  example: John Doe
                email:
                  type: string
                  format: email
                  example: oz@email.com
                phone:
                  type: string
                  description: phone number, numbers only
                  example: 1234567890
        required: true
      responses:
        200:
          description: Successfully updated user details
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user updated successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/UserNotFound'
        409:
          $ref: '#/components/responses/EmailAlreadyUsed'
        500:
          $ref: '#/components/responses/InternalServerError'
  
  /users/picture:
    put:
      summary: Upload and change  user picture
      operationId: uploadUserPicture
      security:
        - access_token: [] 
      tags:
        - EndUser.Users
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                picture:
                  type: string
                  format: binary
        required: true
      responses:
        200:
          description: Successfully changed user picture
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user avatar updated successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/UserNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'

  /users/change-password:
    put:
      summary: Update logged in user password
      operationId: updateUserPassword
      security:
        - access_token: []
      tags:
        - EndUser.Users
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - oldPassword
                - newPassword
              properties:
                oldPassword:
                  type: string
                  format: password
                  minLength: 8
                  example: password
                newPassword:
                  type: string
                  format: password
                  minLength: 8
                  example: password
        required: true
      responses:
        200:
          description: Successfully updated user password
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: password changed successful
        400:
          description: Bad request body
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidPassword:
                  $ref: '#/components/examples/InvalidPassword'
             
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
                
        404:
          $ref: '#/components/responses/UserNotFound'
        409:
          description: Old password is incorrect
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example:  password not match
        500:
          $ref: '#/components/responses/InternalServerError'

  /reservations:
    get:
      summary: Get all reservations for a user
      operationId: getReservations
      security:
        - access_token: []
      tags:
        - EndUser.Reservations
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          description: Number of reservations per page
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        200:
          description: successfully retrieved reservations
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservations retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                        building:
                          type: object
                          properties:
                            id:
                              type: string
                              example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
                            name:
                              type: string
                              example: Jakarta Convention Center
                            picture:
                              type: string
                              example: https://storage.googleapis.com/alterra-asset/alterra/alterra-logo.png
                            city:
                              type: string
                              example: Jakarta
                        companyName:
                          type: string
                          example: Alterra
                        startDate:
                          type: string
                          format: date
                          description: Start date of the reservation with format YYYY-MM-DD
                          example: 2020-01-01
                        endDate:
                          type: string
                          format: date
                          description: End date of the reservation with format YYYY-MM-DD
                          example: 2020-01-01
                        duration:
                          type: integer
                          example: 1
                        amount:
                          type: integer
                          example: 1000000
                        status:
                          type: object
                          properties:
                            id:
                              type: integer
                              example: 1
                            status:
                              type: string
                              example: Pending
                        expiredAt:
                          type: string
                          format: date-time
                          example: 0001-01-01 00:00:00
                        createdAt:
                          type: string
                          format: date-time
                          example: 0001-01-01 00:00:00
                  Mete:
                    $ref: '#/components/schemas/Meta'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
    post:
      summary: Create a reservation
      operationId: createReservation
      security:
        - access_token: []
      tags:
        - EndUser.Reservations
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - buildingd
                - companyName
                - startDate
                - duration
              properties:
                buildingId:
                  type: string
                  format: uuid
                  example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
                companyName:
                  type: string
                  minLength: 3
                  maxLength: 255
                  example: Alterra
                startDate:
                  type: string
                  format: date
                  description: Start date of the reservation with format YYYY-MM-DD
                  example: 2020-01-01
                duration:
                  type: integer
                  description: Duration of the reservation in months
                  minimum: 1
                  example: 1
        required: true
      responses:
        201:
          description: Successfully created reservation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservation created successfully
                  data:
                    type: object
                    properties:
                      reservationId:
                        type: string
                        format: uuid
                        example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a        
        400:
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidDateRange:
                  $ref: '#/components/examples/InvalidDateRange'
                InvalidBuildingID:
                  $ref: '#/components/examples/InvalidBuildingID'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        409:
          description: The building to be reserved is not available
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building is not available
        500:
          $ref: '#/components/responses/InternalServerError'

  /reservations/{reservationID}:
    get:
      summary: Get a user reservation by ID
      operationId: getUserReservationByID
      security:
        - access_token: []
      tags:
        - EndUser.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully retrieved reservation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Reservation fetched successfully
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                      building:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
                          name:
                            type: string
                            example: Jakarta Convention Center
                          picture:
                            type: string
                            example: https://example.com/picture.jpg
                          city:
                            type: string
                            example: Jakarta
                          district:
                            type: string
                            example: Kebayoran Baru
                          address:
                            type: string
                            example: Jl. Jend. Sudirman Kav. 1
                      companyName:
                        type: string
                        example: Alterra
                      startDate:
                        type: string
                        format: date
                        description: Start date of the reservation with format YYYY-MM-DD
                        example: 2022-02-02 08:00:00
                      endDate:
                        type: string
                        format: date
                        description: End date of the reservation with format YYYY-MM-DD
                        example: 2022-02-02 08:00:00
                      duration:
                        type: integer
                        description: Duration of the reservation in months
                        example: 1
                      amount:
                        type: integer
                        description: Amount of the reservation in IDR
                        example: 1000000
                      status:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 1
                          status:
                            type: string
                            example: Pending
                      message:
                        type: string
                        example: Please pay the reservation amount
                      expiredAt:
                        type: string
                        format: date-time
                        description: Date and time of the reservation expiration 
                        example: 0001-01-01 00:00:00
                      createdAt:
                        type: string
                        format: date-time
                        description: Date and time of the reservation creation
                        example: 0001-01-01 00:00:00
                      updatedAt:
                        type: string
                        format: date-time
                        description: Date and time of the reservation update 
                        example: 0001-01-01 00:00:00
        404:
          $ref: '#/components/responses/ReservationNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
        
    delete:
      summary: Cancel a reservation
      operationId: deleteReservation
      security:
        - access_token: []
      tags:
        - EndUser.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation to be deleted
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully cancel reservation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Reservation canceled successfully
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          description: User is not authorized to cancel the reservation of other user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: you don't have permission to perform the action
        404:
          $ref: '#/components/responses/ReservationNotFound'
        409:
          description: The reservation is still active
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservation is still active
        500:
          $ref: '#/components/responses/InternalServerError'
  /reservations/{reservationID}/reviews:
    post:
      summary: Create a review for a reservation
      operationId: createReview
      security:
        - access_token: []
      tags:
        - EndUser.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      requestBody:
        description: Review data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rating:
                  type: integer
                  example: 5
                comment:
                  type: string
                  example: Great place to work
      responses:
        201:
          description: Successfully created review
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Review created successfully
        400:
          description: Invalid request body
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidRating:
                  value:
                    message: Invalid request body
                    data:
                      - field: rating
                        reason: Rating must be between 1 and 5
                InvalidComment:
                  value:
                    message: Invalid request body
                    data:
                      - field: comment
                        reason: Comment must be between 1 and 255 characters
            
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          description: User is not authorized to create review for other user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: you don't have permission to perform the action
        404:
          $ref: '#/components/responses/ReservationNotFound'
        409:
          description: The reservation is not yet finished
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservation is not yet finished
        500:
          $ref: '#/components/responses/InternalServerError'
    get:
      summary: Get reviews for a reservation
      operationId: getReviews
      security:
        - access_token: []
      tags:
        - EndUser.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully retrieved reviews
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Reviews retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                        rating:
                          type: integer
                          example: 5
                        comment:
                          type: string
                          example: Great place to work
                        createdAt:
                          type: string
                          format: date-time
                          description: Date and time of the review creation  with format YYYY-MM-DDTHH:MM:SSZ
                          example: 2022-12-04T19:48:04+08:00
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
    delete:
      summary: Delete review for a reservation
      operationId: deleteReview
      security:
        - access_token: []
      tags:
        - EndUser.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully deleted review
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Review deleted successfully
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
  
  /payments/{reservationID}:
    get:
      summary: Get payments detail for a reservation
      operationId: getPayments
      security:
        - access_token: []
      tags:
        - EndUser.Payments
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully retrieved payments
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Payments retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                        amount:
                          type: number
                          example: 1000
                        startDate:
                          type: string
                          format: date-time
                          description: Date and time of the payment start date  with format YYYY-MM-DD HH:MM:SS
                          example: 2022-12-04 19:48:04
                        duration:
                          type: integer
                          description: Duration of the reservation in months
                          example: 1
                        method:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                            icon:
                              type: string
                              format: url
                              example: https://example.com/payment-method-icon.png
                            name:
                              type: string
                              example: Bank Transfer
                            accountNumber:
                              type: string
                              example: 1234567890
                            accountName:
                              type: string
                              example: John Doe
                        proof:
                          type: string
                          format: url
                          example: https://example.com/payment-proof.png
                        paidAt:
                          type: string
                          format: date-time
                          description: Date and time of the payment confirmation with format YYYY-MM-DD HH:MM:SS
                          example: 2022-02-02 08:00:00
                        expiresAt:
                          type: string
                          format: date-time
                          description: Date and time of the payment expiration with format YYYY-MM-DD HH:MM:SS
                          example: 2022-02-02 08:00:00
                        createdAt:
                          type: string
                          format: date-time
                          description: Date and time of the payment creation  with format YYYY-MM-DD HH:MM:SS
                          example: 2022-12-04 19:48:04
                        updatedAt:
                          type: string
                          format: date-time
                          description: Date and time of the payment update  with format YYYY-MM-DD HH:MM:SS
                          example: 2022-12-04 19:48:04
    post:
      summary: Upload payment proof for a reservation
      operationId: payReservation
      security:
        - access_token: []
      tags:
        - EndUser.Payments
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      requestBody:
        description: Payment proof data
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                proof:
                  type: string
                  format: binary
                  description: Payment proof image
                methodId:
                  type: integer
                  description: Payment method id
                  example: 1
      responses:
        200:
          description: Successfully uploaded payment proof
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Payment proof uploaded successfully
        400:
          description: Invalid request body
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidPaymentMethod:
                  value:
                    message: Invalid request body
                    data:
                      - field: method
                        reason: Payment method is invalid
                InvalidPaymentProof:
                  value:
                    message: Invalid request body
                    data:
                      - field: proof
                        reason: Payment proof is invalid
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        409:
          description: The payment proof conflict with the reservation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                ReservationAlreadyPaid:
                  value:
                    message: reservation already paid
                CannotPayReservation:
                  description: Cannot pay reservation either because the reservation is not yet approved or the reservation status is not awaiting payment
                  value:
                    message: cannot pay reservation
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/buildings/id:
    get:
      summary: Get empty building ID for uploading building picture and creating building
      operationId: getEmptyBuildingID
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      responses:
        200:
          description: Successfully retrieved empty building ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building id requested successfully
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/buildings:
    get:
      summary: Get all buildings in the system
      description: Get all buildings in the system with custom filters
      operationId: getBuildings
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      parameters:
        - name: buildingName
          in: query
          description: Search query string to filter buildings by name (*)
          required: false
          schema:
            type: string
            minLength: 3
            example: Jakarta Convention Center
        - name: cityId
          in: query
          description: City ID to filter buildings by city (*)
          required: false
          schema:
            type: integer
            example: 155
        - name: districtId
          in: query
          description: District ID to filter buildings by district (*)
          required: false
          schema:
            type: integer
            example: 1624
        - name: annualPriceMin
          in: query
          description: Minimum annual price to filter buildings by annual price 
          required: false
          schema:
            type: integer
            minimum: 0
            example: 100000000
        - name: annualPriceMax
          in: query
          description: Maximum annual price to filter buildings by annual price 
          required: false
          schema:
            type: integer
            minimum: 0
            example: 100000000
        - name: monthlyPriceMin
          in: query
          description: Minimum monthly price to filter buildings by monthly price 
          required: false
          schema:
            type: integer
            minimum: 0
            example: 10000000
        - name: monthlyPriceMax
          in: query
          description: Maximum monthly price to filter buildings by monthly price 
          required: false
          schema:
            type: integer
            minimum: 0
            example: 10000000
        - name: capacityMin
          in: query
          description: Minimum capacity to filter buildings by capacity 
          required: false
          schema:
            type: integer
            minimum: 0
            example: 100
        - name: capacityMax
          in: query
          description: Maximum capacity to filter buildings by capacity 
          required: false
          schema:
            type: integer
            minimum: 0
            example: 100
        - name: startDate
          in: query
          description: Start date to filter buildings by availability in yyyy-mm-dd format. Must be used together with duration
          required: false
          schema:
            type: string
            format: date
            example: 2022-02-02
        - name: duration
          in: query
          description: Duration of reservation to be checked its availability. Must be used together with startDate
          required: false
          schema:
            type: integer
            minimum: 1
            example: 1
        - name: sortBy
          in: query
          description: Sort buildings by column name
          required: false
          schema:
            type: string
            enum:
              - annual_price
              - monthly_price
              - capacity
              - pinpoint
        - name: order
          in: query
          description: Sort order of buildings
          required: false
          schema:
            type: string
            enum:
              - asc
              - desc
        - name: latitude
          in: query
          description: Latitude of the location to filter buildings by distance, must present if sort by pinpoint
          required: false
          schema:
            type: number
            format: float
        - name: longitude
          in: query
          description: Longitude of the location to filter buildings by distance, must present if sort by pinpoint
          required: false
          schema:
            type: number
            format: float
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/page'

      responses:
        200:
          description: Successfully retrieved buildings
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: buildings retrieved successfully
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/BriefBuildingDetails'
                  meta:
                    $ref: '#/components/schemas/Meta'

        400:
          description: Bad parameter request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidParameterValue:
                  description: Invalid parameter value provided
                  value:
                    message: Invalid parameter value
                ParameterRequired:
                  description: Required parameter not provided
                  value:
                    message: Parameter required
        404:
          $ref: '#/components/responses/BuildingNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/buildings/total:
    get:
      summary: Get total buildings in the system
      description: Get total buildings in the system
      operationId: getTotalBuildings
      tags:
        - Admin.Buildings
      security:
        - access_token: []
      responses:
        200:
          description: Successfully retrieved total buildings
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: tobuilding total fetched successfully
                  data:
                    type: object
                    properties:
                      byCity:
                        type: array
                        example:
                          - cityId: 154
                            cityName: "Kota Jakarta Selatan"
                            total: 1
                          - cityId: 155
                            cityName: "Kota Jakarta Timur"
                            total: 1
                          - cityId: 156
                            cityName: "Kota Jakarta Pusat"
                            total: 1
                      byTimeframe:
                        type: object
                        properties:
                          today:
                            type: integer
                            example: 1
                          thisWeek:
                            type: integer
                            example: 1
                          thisMonth:
                            type: integer
                            example: 1
                          thisYear:
                            type: integer
                            example: 1
                          allTime:
                            type: integer
                            example: 1
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/buildings/{buildingID}:
    get:
      summary: Get building detail by ID
      operationId: getBuildingByID
      tags:
        - Admin.Buildings
      security:
        - access_token: []
      parameters:
        - name: buildingID
          in: path
          description: ID of the building
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426655440000
      responses:
        200:
          description: Successfully retrieved building
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building retrieved successfully
                  data:
                    $ref: '#/components/schemas/BuildingDetails'
        404:
          $ref: '#/components/responses/BuildingNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
    put:
      summary: Update a building
      operationId: updateBuilding
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      parameters:
        - name: buildingID
          in: path
          description: ID of the building to be updated
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      requestBody:
        content:
          application/json:
            schema:
              type: object
              minProperties: 1
              properties:
                name:
                  type: string
                  minLength: 3
                  maxLength: 100
                  example: Jakarta Convention Center
                facilities:
                  type: array
                  items:
                    type: object
                    required:
                    - facilityId
                    properties:
                      facilityId:
                        type: integer
                        example: 5
                      name:
                        type: string
                        minLength: 3
                        maxLength: 100
                        example: Meeting Room
                      iconId:
                        type: integer
                        example: 5
                      description:
                        type: string
                        minLength: 3
                        maxLength: 1000
                        example: Meeting room with 10 seats
                pictures:
                  type: array
                  items:
                    type: object
                    required:
                    - pictureId
                    properties:
                      pictureId:
                        type: string
                        description: ID of the picture to be updated that can be obtained from the response of upload picture endpoint or get building detail endpoint
                        example: 6asjfakjdshkasd
                      index:
                        type: integer
                        minimum: 0
                        maximum: 9
                        example: 5
                      alt:
                        type: string
                        example: Jakarta Convention Center
                description:
                  type: string
                  description: Description of the building
                  minLength: 3
                  maxLength: 1000
                  example: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                capacity:
                  type: integer
                  minimum: 1
                  example: 1000
                size:
                  type: integer
                  minimum: 1
                  example: 1000
                price:
                  type: object
                  minProperties: 1
                  properties:
                    annual:
                      type: integer
                      example: 100000000
                    monthly:
                      type: integer
                      example: 10000000
                location:
                  type: object
                  minProperties: 1
                  properties:
                    districtId:
                      type: integer
                      description: ID of the district, can be obtained from the response of get districts endpoint. Required if cityId is present.
                      example: 1
                    cityId:
                      type: integer
                      description: ID of the city, can be obtained from the response of get cities endpoint. Required if districtId is present.
                      example: 1
                    address:
                      type: string
                      minLength: 3
                      example: Jl. MH Thamrin No. 1, RT.1/RW.2, Gondangdia, Menteng, Kota Jakarta Pusat, Daerah Khusus Ibukota Jakarta 10340
                    geo:
                      type: object
                      minProperties: 1
                      properties:
                        lat:
                          type: number
                          example: -6.175392
                        long:
                          type: number
                          example: 106.827153
                isPublished:
                  type: boolean
                  description: Set to true to publish the building, only published building will be shown in the app. And to publish the building, the building must have at least 1 picture and all required fields must be filled, e.g. name, size, price, etc.
                  example: true
        required: true
      responses:
        200:
          description: Successfully updated building
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building updated successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidDistrictID:
                  $ref: '#/components/examples/InvalidDistrictID'
                InvalidCityID:
                  $ref: '#/components/examples/InvalidCityID'
                InvalidFacilityCategory:
                  $ref: '#/components/examples/InvalidFacilityIconID'
                InvalidPictureIndex:
                  $ref: '#/components/examples/InvalidPictureIndex'
                InvalidFacilityName:
                  $ref: '#/components/examples/InvalidFacilityName'
                InvalidFacilityDescription:
                  $ref: '#/components/examples/InvalidFacilityDescription'
                InvalidFacilityIconID:
                  $ref: '#/components/examples/InvalidFacilityIconID'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/BuildingNotFound'
        409:
          description: Conflict resource, for trying to publish non valid building
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building is not valid, please check the required fields
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          example: name
                        reason:
                          type: string
                          example: name is required

        500:
          $ref: '#/components/responses/InternalServerError'
    delete:
      summary: Delete a building
      operationId: deleteBuilding
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      parameters:
        - name: buildingID
          in: path
          description: ID of the building to be deleted
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully deleted building
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building deleted successfully
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/BuildingNotFound'
        409:
          description: Conflict resource, for trying to delete building that has been booked
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building has active reservation
        500:
          $ref: '#/components/responses/InternalServerError'
  /admin/buildings/{buildingID}/pictures:
    post:
      summary: Upload a picture for a building
      operationId: uploadBuildingPicture
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      parameters:
        - name: buildingID
          in: path
          description: ID of the building to be added with picture
          required: true
          schema:
            type: string
            format: uuid
            example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - picture
                - index
              properties:
                picture:
                  type: string
                  format: binary
                  description: Picture of the building
                index:
                  type: integer
                  minimum: 0
                  maximum: 9
                  description: Index of the picture
                alt:
                  type: string
                  description: Alternative text for the picture
        required: true
      responses:
        201:
          description: Successfully uploaded building picture
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building picture uploaded successfully
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                      url:
                        type: string
                        example: https://ik.imagekit.io/fortyfour/default-image.jpg
                      alt:
                        type: string
                        example: Jakarta Convention Center
        400:
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidPictureIndex:
                  $ref: '#/components/examples/InvalidPictureIndex'
                InvalidPicture:
                  $ref: '#/components/examples/InvalidPicture'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'
  
  /admin/buildings/{buildingID}/facilities:
    post:
      summary: Add a facility to a building
      operationId: addBuildingFacility
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      parameters:
        - name: buildingID
          in: path
          description: ID of the building to be added with facility
          required: true
          schema:
            type: string
            format: uuid
            example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                required:
                  - name
                  - iconId
                properties:
                  name:
                    type: string
                    minLength: 3
                    maxLength: 100
                    example: Meeting Room
                  iconId:
                    type: integer
                    example: 5
                  description:
                    type: string
                    minLength: 3
                    maxLength: 1000
                    example: Meeting room with 10 seats 
        required: true
      responses:
        201:
          description: Successfully added building facility
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building facility added successfully
        400:
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidFacilityName:
                  $ref: '#/components/examples/InvalidFacilityName'
                InvalidFacilityDescription:
                  $ref: '#/components/examples/InvalidFacilityDescription'
                InvalidFacilityIconID:
                  $ref: '#/components/examples/InvalidFacilityIconID'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'
          
  /admin/buildings/{buildingID}/pictures/{pictureID}:
    delete:
      summary: Delete a picture from a building
      operationId: deleteBuildingPicture
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      parameters:
        - name: buildingID
          in: path
          description: ID of the building to be deleted
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
        - name: pictureID
          in: path
          description: ID of the picture to be deleted
          required: true
          schema:
            type: string
            example: 6asjfakjdshkasd
      responses:
        200:
          description: Successfully deleted picture
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building picture deleted successfully
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/PictureNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/buildings/{buildingID}/facilities/{facilityID}:
    delete:
      summary: Delete a facility from a building
      operationId: deleteBuildingFacility
      security:
        - access_token: []
      tags:
        - Admin.Buildings
      parameters:
        - name: buildingID
          in: path
          description: ID of the building to be deleted
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
        - name: facilityID
          in: path
          description: ID of the facility to be deleted
          required: true
          schema:
            type: integer
            example: 6
      responses:
        200:
          description: Successfully deleted facility
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building facility deleted successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: facility id is invalid
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          description: Facility not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: facility not found
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/reservations:
    get:
      summary: Get all reservations
      operationId: getReservations
      security:
        - access_token: []
      tags:
        - Admin.Reservations
      parameters:
        - name: statusId
          in: query
          description: Status of the reservation
          required: false
          schema:
            type: string
            enum:
              - 1
              - 2
              - 3
              - 4
              - 5
              - 6
            description: >
              status of the reservation
              * `1` - reservation is waiting for manual approval from admin
              * `2` - reservation is rejected
              * `3` - reservation is cancelled
              * `3` - reservation is waiting for payment
              * `5` - reservation is active
              * `6` - reservation is finished
        - name: buildingId
          in: query
          description: ID of the building that the reservation is made for
          required: false
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
        - name: userId
          in: query
          description: ID of the user
          required: false
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
        - name: userName
          in: query
          description: Name of the user
          required: false
          schema:
            type: string
            minLength: 3
            maxLength: 50
            example: John Doe
        - name: startDate
          in: query
          description: Start date of the reservation
          required: false
          schema:
            type: string
            format: date
            example: 2020-12-29
        - name: endDate
          in: query
          description: End date of the reservation
          required: false
          schema:
            type: string
            format: date
            example: 2020-12-29
        - name: createdStart
          in: query
          description: Start date of the reservation creation, with format YYYY-MM-DD
          required: false
          schema:
            type: string
            format: date
            example: 2020-12-29
        - name: createdEnd
          in: query
          description: End date of the reservation creation, with format YYYY-MM-DD
          required: false
          schema:
            type: string
            format: date
            example: 2020-12-29
        - name: sortBy
          in: query
          description: Sort by
          required: false
          schema:
            type: string
            enum:
              - created_at
              - start_date
              - end_date
              - building_name
              - user_name
        - name: sortOrder
          in: query
          description: Sort direction
          required: false
          schema:
            type: string
            enum:
              - asc
              - desc
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/limit'
      responses:
        200:
          description: Successfully retrieved reservations
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservations retrieved successfully
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/BriefReservationDetails'
                  meta:
                    $ref: '#/components/schemas/Meta'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
    post:
      summary: Create a reservation
      operationId: createReservation
      security:
        - access_token: []
      tags:
        - Admin.Reservations 
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - buildingId
                - companyName
                - startDate
                - duration
              properties:
                userId:
                  type: string
                  description: ID of the user that made the reservation
                  format: uuid
                  example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                buildingId:
                  type: string
                  format: uuid
                  example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
                companyName:
                  type: string
                  minLength: 3
                  maxLength: 255
                  example: Alterra
                startDate:
                  type: string
                  format: date
                  description: Start date of the reservation with format YYYY-MM-DD
                  example: 2020-01-01
                duration:
                  type: integer
                  description: Duration of the reservation in months
                  minimum: 1
                  example: 1
        required: true
      responses:
        201:
          description: Successfully created reservation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservation created successfully
                  data:
                    type: object
                    properties:
                      reservationId:
                        type: string
                        format: uuid
                        example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
        400:
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidDateRange:
                  $ref: '#/components/examples/InvalidDateRange'
                InvalidBuildingID:
                  $ref: '#/components/examples/InvalidBuildingID'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        409:
          description: The building to be reserved is not available
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building is not available
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/reservations/{reservationID}:
    get:
      summary: Get a user reservation by ID
      operationId: getUserReservationByID
      security:
        - access_token: []
      tags:
        - Admin.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully retrieved reservation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Reservation fetched successfully
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                      building:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
                          name:
                            type: string
                            example: Jakarta Convention Center
                          picture:
                            type: string
                            example: https://example.com/picture.jpg
                          city:
                            type: string
                            example: Jakarta
                          district:
                            type: string
                            example: Kebayoran Baru
                          address:
                            type: string
                            example: Jl. Jend. Sudirman Kav. 1
                      tenant:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                          name:
                            type: string
                            example: Alterra
                          email:
                            type: string
                            format: email
                            example: oz@mail.com
                          picture:
                            type: string
                            example: https://example.com/picture.jpg
                      companyName:
                        type: string
                        example: Alterra
                      startDate:
                        type: string
                        format: date
                        description: Start date of the reservation with format YYYY-MM-DD
                        example: 2022-02-02 08:00:00
                      endDate:
                        type: string
                        format: date
                        description: End date of the reservation with format YYYY-MM-DD
                        example: 2022-02-02 08:00:00
                      duration:
                        type: integer
                        description: Duration of the reservation in months
                        example: 1
                      amount:
                        type: integer
                        description: Amount of the reservation in IDR
                        example: 1000000
                      status:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 1
                          message:
                            type: string
                            example: Pending
                      expiredAt:
                        type: string
                        format: date-time
                        description: Date and time of the reservation expiration
                        example: 0001-01-01 00:00:00
                      createdAt:
                        type: string
                        format: date-time
                        description: Date and time of the reservation creation 
                        example: 0001-01-01 00:00:00
                      updatedAt:
                        type: string
                        format: date-time
                        description: Date and time of the reservation update
                        example: 0001-01-01 00:00:00
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
    put:
      summary: Update a reservation
      operationId: updateReservation
      security:
        - access_token: []
      tags:
        - Admin.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      requestBody:
        content:
          application/json:
            schema:
              type: object
              minProperties: 1
              properties:
                userId:
                  type: string
                  format: uuid
                  example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
                buildingId:
                  type: string
                  format: uuid
                  example: 71858cf1-e48d-43bd-8e4a-cd3d4a5b2003
                companyName:
                  type: string
                  minLength: 3
                  maxLength: 255
                  example: Alterra
                startDate:
                  type: string
                  format: date
                  description: Start date of the reservation with format YYYY-MM-DD, if provided, duration must be also provided
                  example: 2020-01-01
                duration:
                  type: integer
                  description: Duration of the reservation in months
                  minimum: 1
                  example: 1
                statusId:
                  type: string
                  enum:
                   - 1
                   - 2
                   - 3
                   - 4
                   - 5
                   - 6
                   - null
                  description: >
                    status of the reservation
                    * `1` - reservation is waiting for manual approval from admin
                    * `2` - reservation is rejected
                    * `3` - reservation is cancelled
                    * `3` - reservation is waiting for payment
                    * `5` - reservation is active
                    * `6` - reservation is finished
                message:
                  type: string
                  minLength: 3
                  maxLength: 255
                  example: Your reservation has been rejected because of the following reason...
        required: true
      responses:
        200:
          description: Successfully updated reservation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservation updated successfully
        400:
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidStartDate:
                  $ref: '#/components/examples/InvalidStartDate'
                InvalidDateRange:
                  $ref: '#/components/examples/InvalidDateRange'
                InvalidBuildingID:
                  $ref: '#/components/examples/InvalidBuildingID'
                InvalidUserID:
                  $ref: '#/components/examples/InvalidUserID'
                InvalidStatus:
                  $ref: '#/components/examples/InvalidStatusID'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        409:
          description: Reservation date range is not available
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building is not available
        500:
          $ref: '#/components/responses/InternalServerError'
    delete:
      summary: Delete a reservation
      operationId: deleteReservation
      security:
        - access_token: []
      tags:
        - Admin.Reservations
      parameters:
        - name: reservationID
          in: path
          description: ID of the reservation
          required: true
          schema:
            type: string
            format: uuid
            example: 5f9f1b9c-1b5a-4b9f-8c1a-8c1a8c1a8c1a
      responses:
        200:
          description: Successfully deleted reservation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Reservation deleted successfully
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/ReservationNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
  /admin/reservations/total:
    get:
      summary: Get total number of reservations
      operationId: getTotalReservations
      security:
        - access_token: []
      tags:
        - Admin.Reservations
      responses:
        200:
          description: Successfully get total number of reservations
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: reservations total retrieved successfully
                  data:
                    type: object
                    properties:
                      byStatus:
                        type: array
                        example: 
                          - statusId: 1
                            statusName: Pending
                            count: 1
                          - statusId: 2
                            statusName: Rejected
                            count: 1
                          - statusId: 3
                            statusName: Cancelled
                            count: 1
                          - statusId: 4
                            statusName: Awaiting Payment
                            count: 1
                          - statusId: 5
                            statusName: Active
                            count: 1
                          - statusId: 6
                            statusName: Finished
                            count: 1
                      byTimeframe:
                        type: object
                        properties:
                          today:
                            type: integer
                            example: 1
                          thisWeek:
                            type: integer
                            example: 1
                          thisMonth:
                            type: integer
                            example: 1
                          thisYear:
                            type: integer
                            example: 1
                          allTime:
                            type: integer
                            example: 1

        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'

  # /admin/reservations/statistic:
  #   get:
  #     summary: Get weekly statistic of reservations 
  #     operationId: getReservationStatistic
  #     security:
  #       - access_token: []
  #     tags:
  #       - Admin.Reservations
  #     responses:
  #       200:
  #         description: Successfully get statistic of reservations
  #         content:
  #           application/json:
  #             schema:
  #               type: object
  #               properties:
  #                 message:
  #                   type: string
  #                   example: reservations statistic retrieved successfully
  #                 data:
  #                   type: array
  #                   items:
  #                     $ref: '#/components/schemas/ReservationsStat'
  #                   example:
  #                     - date: 2020-01-01
  #                       total: 1
  #                     - date: 2020-01-02
  #                       total: 1
  #                     - date: 2020-01-03
  #                       total: 1
  #                     - date: 2020-01-04
  #                       total: 1
  #                     - date: 2020-01-05
  #                       total: 1
  #                     - date: 2020-01-06
  #                       total: 1
  #                     - date: 2020-01-07
  #                       total: 1
  #       401:
  #         $ref: '#/components/responses/InvalidOrMissingToken'
  #       403:
  #         $ref: '#/components/responses/RolesNotSupported'
  #       500:
  #         $ref: '#/components/responses/InternalServerError'
  /admin/users:
    get:
      summary: Get all users
      operationId: getAllUsers
      security:
        - access_token: []
      tags:
        - Admin.Users
      parameters:
        - name : role
          in: query
          description: role of the user
          required: true
          schema:
            type: integer
            enum:
              - 1
              - 2
        - name: q
          in: query
          description: Search user by name 
          required: false
          schema:
            type: string
            minLength: 3
            maxLength: 50
            example: John
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/page'
      responses:
        200:
          description: Successfully get all users
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: users retrieved successfully
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/BriefUserDetails'
                  meta:
                    $ref: '#/components/schemas/Meta'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'
    post:
      summary: Register a new user
      operationId: registerUserfromAdmin
      tags:
        - Admin.Users
      security:
        - access_token: []
      requestBody:
        description: User registration details
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 3
                  example: John Doe
                email:
                  type: string
                  format: email
                  example: oz@mail.com
                password:
                  type: string
                  minLength: 8
                  format: password
                  example: password
                phone:
                  type: string
                  description: phone number, number only
                  example: 08123456789
      responses:
        201:
          description: Successfully registering a new user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user created successfully
                  data:
                    type: object
                    properties:
                      uid:
                        type: string
                        example: 5f7f9c9c-8b9a-4b9c-9c9c-8b9a4b9c9c9c
        409:
          $ref: '#/components/responses/EmailAlreadyUsed'
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
                InvalidPassword:
                  $ref: '#/components/examples/InvalidPassword'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/users/admin:
    post:
      summary: Register a new admin
      operationId: registerAdminfromAdmin
      tags:
        - Admin.Users
      security:
        - access_token: []
      requestBody:
        description: Admin registration details
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 3
                  example: John Doe
                email:
                  type: string
                  format: email
                  example: oz@mail.com
                password:
                  type: string
                  minLength: 8
                  format: password
                  example: password
                phone:
                  type: string
                  description: phone number, number only
                  example: 08123456789
      responses:
        201:
          description: Successfully registering a new admin
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: admin created successfully
                  data:
                    type: object
                    properties:
                      uid:
                        type: string
                        example: 5f7f9c9c-8b9a-4b9c-9c9c-8b9a4b9c9c9c
        409:
          $ref: '#/components/responses/EmailAlreadyUsed'
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
                InvalidPassword:
                  $ref: '#/components/examples/InvalidPassword'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/users/{userID}:
    get:
      summary: Get user by ID
      operationId: getUserByID
      security:
        - access_token: []
      tags:
        - Admin.Users
      parameters:
        - name: userID
          in: path
          description: ID of the user
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Successfully get user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user retrieved successfully
                  data:
                    $ref: '#/components/schemas/UserDetail'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/UserNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
    put:
      summary: Update user by ID
      operationId: updateUserByID
      security:
        - access_token: []
      tags:
        - Admin.Users
      parameters:
        - name: userID
          in: path
          description: ID of the user
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: User object that needs to be updated
        content:
          application/json:
            schema:
              type: object
              minProperties: 1
              properties:
                name:
                  type: string
                  minLength: 3
                  example: John Doe
                email:
                  type: string
                  format: email
                  example: oz@mail.com
                phone: 
                  type: string
                  description: phone number, number only
                  example: 0123456789
        required: true
      responses:
        200:
          description: Successfully updated user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user updated successfully
        400:
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
                InvalidEmail:
                  $ref: '#/components/examples/InvalidEmail'
                InvalidRole:
                  value:
                    message: invalid role
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/UserNotFound'
        409:
          $ref: '#/components/responses/EmailAlreadyUsed'
        500:
          $ref: '#/components/responses/InternalServerError'
    delete:
      summary: Delete user by ID
      operationId: deleteUserByID
      security:
        - access_token: []
      tags:
        - Admin.Users
      parameters:
        - name: userID
          in: path
          description: ID of the user
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Successfully deleted user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user deleted successfully
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/UserNotFound'
        409:
          description: User has active reservations with status "pending", "accepted", "awaiting payment" or "active"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              example:
                message: user has active reservation

        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/users/{userID}/picture:
    put:
      summary: Upload and change another user avatar
      operationId: uploadAnotherUserPicture
      security:
        - access_token: [ ]
      tags:
        - Admin.Users
      parameters:
        - name: userID
          in: path
          description: ID of the user
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                picture:
                  type: string
                  format: binary
        required: true
      responses:
        200:
          description: Successfully changed user picture
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user avatar updated successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        404:
          $ref: '#/components/responses/UserNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/users/statistics:
    get:
      summary: Get joined users statistics per month from 12 months ago to now 
      operationId: getUsersStatistics
      security:
        - access_token: []
      tags:
        - Admin.Users
      responses:
        200:
          description: Successfully get users statistics
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: users statistics retrieved successfully
                  data:
                    type: array
                    example:
                      - month: January
                        total: 1
                      - month: February
                        total: 1
                      - month: March
                        total: 1
                      - month: April
                        total: 1
                      - month: May
                        total: 1
                      - month: June
                        total: 1
                      - month: July
                        total: 1
                      - month: August
                        total: 1
                      - month: September
                        total: 1
                      - month: October  
                        total: 1
                      - month: November 
                        total: 1
                      - month: December
                        total: 1
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/users/total:
    get:
      summary: Get total number of users
      operationId: getTotalUsers
      security:
        - access_token: [ ]
      tags:
        - Admin.Users
      responses:
        200:
          description: Successfully retrieved total users
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: user total fetched successfully
                  data:
                    type: object
                    properties:
                      today:
                        type: integer
                        example: 1
                      thisWeek:
                        type: integer
                        example: 1
                      thisMonth:
                        type: integer
                        example: 1
                      thisYear:
                        type: integer
                        example: 1
                      allTime:
                        type: integer
                        example: 1
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/payments:
    post:
      summary: Create payment detail
      operationId: createPayment
      security:
        - access_token: []
      tags:
        - Admin.Payments
      requestBody:
        description: Payment object that needs to be added
        content:
          application/json:
            schema:
              type: object
              required:
                - bankID
                - accountNumber
                - accountName
              properties:
                bankId:
                  type: integer
                  example: 1
                accountName:
                  type: string
                  example: Fortyfour
                accountNumber:
                  type: string
                  example: 1234567890
                description:
                  type: string
                  example: Silahkan transfer ke rekening ini
        required: true
      responses:
        201:
          description: Successfully created payment
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: payment created successfully
        400:
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        500:
          $ref: '#/components/responses/InternalServerError'

  /admin/payments/{paymentID}:
    put:
      summary: Update payment detail by ID
      operationId: updatePaymentByID
      security:
        - access_token: []
      tags:
        - Admin.Payments
      parameters:
        - name: paymentID
          in: path
          description: ID of the payment
          required: true
          schema:
            type: integer
            example: 1
      requestBody:
        description: Payment object that needs to be updated
        content:
          application/json:
            schema:
              type: object
              minProperties: 1
              properties:
                bankId:
                  type: integer
                  example: 1
                accountName:
                  type: string
                  example: Fortyfour
                accountNumber:
                  type: string
                  example: 1234567890
                description:
                  type: string
                  example: Silahkan transfer ke rekening ini
        required: true
      responses:
        200:
          description: Successfully updated payment
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: payment updated successfully
        400:
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidRequestBody:
                  $ref: '#/components/examples/InvalidRequestBody'
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/PaymentNotFound'
        500: 
          $ref: '#/components/responses/InternalServerError'
    delete:
      summary: Delete payment detail by ID
      operationId: deletePaymentByID
      security:
        - access_token: []
      tags:
        - Admin.Payments
      parameters:
        - name: paymentID
          in: path
          description: ID of the payment
          required: true
          schema:
            type: integer
            example: 1
      responses:
        200:
          description: Successfully deleted payment
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: payment deleted successfully
        401:
          $ref: '#/components/responses/InvalidOrMissingToken'
        403:
          $ref: '#/components/responses/RolesNotSupported'
        404:
          $ref: '#/components/responses/PaymentNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'

  /buildings:
    get:
      summary: Get all published buildings in the system
      description: Get all buildings in the system with custom filters.
      operationId: getPublishedBuildings
      tags:
        - Buildings
      parameters:
        - name: buildingName
          in: query
          description: Search query string to filter buildings by name (*)
          required: false
          schema:
            type: string
            example: Jakarta Convention Center
        - name: cityId
          in: query
          description: City ID to filter buildings by city (*)
          required: false
          schema:
            type: integer
            example: 155
        - name: districtId
          in: query
          description: District ID to filter buildings by district (*)
          required: false
          schema:
            type: integer
            example: 1624
        - name: annualPriceMin
          in: query
          description: Minimum annual price to filter buildings by annual price 
          required: false
          schema:
            type: integer
            example: 100000000
        - name: annualPriceMax
          in: query
          description: Maximum annual price to filter buildings by annual price 
          required: false
          schema:
            type: integer
            example: 100000000
        - name: monthlyPriceMin
          in: query
          description: Minimum monthly price to filter buildings by monthly price 
          required: false
          schema:
            type: integer
            example: 10000000
        - name: monthlyPriceMax
          in: query
          description: Maximum monthly price to filter buildings by monthly price 
          required: false
          schema:
            type: integer
            example: 10000000
        - name: capacityMin
          in: query
          description: Minimum capacity to filter buildings by capacity 
          required: false
          schema:
            type: integer
            example: 100
        - name: capacityMax
          in: query
          description: Maximum capacity to filter buildings by capacity 
          required: false
          schema:
            type: integer
            example: 100
        - name: startDate
          in: query
          description: Start date to filter buildings by availability in yyyy-mm-dd format. Must be used together with duration
          required: false
          schema:
            type: string
            format: date
            example: 2022-02-02
        - name: duration
          in: query
          description: Duration of reservation to be checked its availability. Must be used together with startDate
          required: false
          schema:
            type: integer
            example: 1
        - name: sortBy
          in: query
          description: Sort buildings by column name
          required: false
          schema:
            type: string
            enum:
              - annual_price
              - monthly_price
              - capacity
              - pinpoint
        - name: order
          in: query
          description: Sort order of buildings
          required: false
          schema:
            type: string
            enum:
              - asc
              - desc
        - name: latitude
          in: query
          description: Latitude of the location to filter buildings by distance, must present if sort by pinpoint
          required: false
          schema:
            type: number
            format: floa
        - name: longitude
          in: query
          description: Longitude of the location to filter buildings by distance, must present if sort by pinpoint
          required: false
          schema:
            type: number
            format: float
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/page'

      responses:
        200:
          description: Successfully retrieved buildings
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: buildings retrieved successfully
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/BriefPublishedBuildingDetails'
                  meta:
                    $ref: '#/components/schemas/Meta'

        400:
          description: Bad parameter request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidParameterValue:
                  description: Invalid parameter value provided
                  value:
                    message: Invalid parameter value
                ParameterRequired:
                  description: Required parameter not provided
                  value:
                    message: Parameter required
        404:
          $ref: '#/components/responses/BuildingNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'
  /buildings/{buildingID}:
    get:
      summary: Get published building detail by ID
      operationId: getPublishedBuildingByID
      tags:
        - Buildings
      parameters:
        - name: buildingID
          in: path
          description: ID of the building
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426655440000
      responses:
        200:
          description: Successfully retrieved building
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: building retrieved successfully
                  data:
                    $ref: '#/components/schemas/PublishedBuildingDetails'
        404:
          $ref: '#/components/responses/BuildingNotFound'
        500:
          $ref: '#/components/responses/InternalServerError'

  /buildings/facilities/category:
    get:
      summary: Get all building facilities categories
      operationId: getBuildingFacilitiesCategories
      tags:
        - Buildings
      responses:
        200:
          description: Successfully retrieved building facilities categories
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: facility categories fetched successfully
                  data:
                    type: array
                    items: 
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        name:
                          type: string
                          example: kamar-mandi
                        url:
                          type: string
                          example: https://ik.imagekit.io/fortyfour/default-image.jpg
                      
        500:
          $ref: '#/components/responses/InternalServerError'

  /payments/methods:
    get:
      summary: Get all payments method in the system
      operationId: getPayments
      tags:
        - Payments
      responses:
        200:
          description: Successfully retrieved payments
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: payments retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        bankName:
                          type: string
                          example: BNI
                        bankIcon:
                          type: string
                          example: https://ik.imagekit.io/fortyfour/default-image.jpg
                        accountName:
                          type: string
                          example: Fortyfour
                        accountNumber:
                          type: string
                          example: 1234567890
                        description:
                          type: string
                          example: Bank Transfer
        500:
          $ref: '#/components/responses/InternalServerError'
  /payments/methods/{paymentMethodID}:
    get:
      summary: Get payments method by id
      operationId: getPaymentsById
      tags:
        - Payments
      parameters:
        - name: paymentMethodID
          in: path
          description: ID of the payment
          required: true
          schema:
            type: integer
            example: 1
      responses:
        200:
          description: Successfully retrieved payments
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: payments retrieved successfully
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      bankName:
                        type: string
                        example: BNI
                      bankIcon:
                        type: string
                        example: https://ik.imagekit.io/fortyfour/default-image.jpg
                      accountName:
                        type: string
                        example: Fortyfour
                      accountNumber:
                        type: string
                        example: 1234567890
                      description:
                        type: string
                        example: Bank Transfer
        404:
          $ref: '#/components/responses/PaymentNotFound'                         
        500:
          $ref: '#/components/responses/InternalServerError'
  /payments/methods/banks:
    get:
      summary: Get all banks in the system
      operationId: getBanks
      tags:
        - Payments
      responses:
        200:
          description: Successfully retrieved banks
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: banks retrieved successfully
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        name:
                          type: string
                          example: BNI
                        icon:
                          type: string
                          example: https://ik.imagekit.io/fortyfour/default-image.jpg
        500:
          $ref: '#/components/responses/InternalServerError'

  /locations/cities:
    get:
      summary: Get all cities
      operationId: getCities
      tags:
        - Locations
      responses:
        200:
          description: Successfully retrieved cities
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: cities retrieved successfully
                  data:
                    type: array
                    example: 
                      - id: 155
                        name: Jakarta
                      - id: 156
                        name: Bandung
        500:
          $ref: '#/components/responses/InternalServerError'
    
  /locations/districts:
    get:
      summary: Get all districts
      operationId: getDistricts
      tags:
        - Locations
      parameters:
        - name: cityId
          in: query
          description: ID of the city
          required: true
          schema:
            type: integer
            example: 154
      responses:
        200:
          description: Successfully retrieved districts
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: districts retrieved successfully
                  data:
                    type: array
                    example: 
                      - id: 1888
                        cityId: 154
                        name: Mampang Prapatan
                      - id: 1889
                        cityId: 154
                        name: Pancoran
        400:
          description: Bad parameter request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                InvalidParameterValue:
                  description: Invalid parameter value provided
                  value:
                    message: invalid query params
        500:
          $ref: '#/components/responses/InternalServerError'

components:
  responses:
    EmailAlreadyUsed:
      description: User with provided email already exists
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: email already used
    ReservationNotFound:
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: reservation not found
    UserNotFound:
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: user not found
    BuildingNotFound:
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: building not found
    PaymentNotFound:
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: payment not found
    PictureNotFound:
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: picture not found
    InvalidOrMissingToken:
      description: Invalid or expired JWT
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: invalid or expired JWT
    RolesNotSupported:
      description: Role not supported for this endpoint, e.g. user role trying to access admin endpoints
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: you don't have permission to perform the action
    InternalServerError:
      description: Unexpected error occurred
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                description: Error message
                example: database error....

  parameters:
    page:
      name: page
      in: query
      description: Page number
      required: false
      schema:
        type: integer
        minimum: 1
        default: 1
    limit:
      name: limit
      in: query
      description: Number of items to return
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20

  schemas:
    BaseResponse:
      type: object
      properties:
        message:
          type: string
    Meta:
      type: object
      properties:
        total:
          type: integer
          example: 1
        page:
          type: integer
          example: 1
        limit:
          type: integer
          example: 20
    BriefPublishedBuildingDetails:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
        name:
          type: string
          example: Jakarta Convention Center
        picture:
          type: string
          example: https://ik.imagekit.io/fortyfour/default-image.jpg
        price:
          type: object
          properties:
            annual:
              type: integer
              example: 12000000
            monthly:
              type: integer
              example: 1000000
        owner:
          type: string
          example: PT. Graha Sidang Pratama
        location:
          type: object
          properties:
            city:
              type: string
              example: Jakarta Selatan
            district:
              type: string
              example: Tanah Abang
    BriefBuildingDetails:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
        name:
          type: string
          example: Jakarta Convention Center
        picture:
          type: string
          example: https://ik.imagekit.io/fortyfour/default-image.jpg
        price:
          type: object
          properties:
            annual:
              type: integer
              example: 12000000
            monthly:
              type: integer
              example: 1000000
        owner:
          type: string
          example: PT. Graha Sidang Pratama
        location:
          type: object
          properties:
            city:
              type: string
              example: Jakarta Selatan
            district:
              type: string
              example: Tanah Abang
        isPublished:
          type: boolean
          example: true
    PublishedBuildingDetails:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
        name:
          type: string
          example: Jakarta Convention Center
        pictures:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
                example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
              index:
                type: integer
                example: 1
              url:
                type: string
                example: https://ik.imagekit.io/fortyfour/default-image.jpg
              alt:
                type: string
                example: Jakarta Convention Center
        description:
          type: string
          example: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas quis bibendum ipsum. Maecenas in ante at velit rhoncus facilisis vel lacinia turpis. Fusce blandit ac augue a tincidunt. Pellentesque tristique augue rhoncus tortor dapibus vulputate condimentum in dolor. Aenean imperdiet augue eu facilisis luctus. Vivamus pretium in mauris sed interdum. Pellentesque cursus sem eget turpis tempus, nec ultrices elit porta.
        facilities:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                example: Meeting Room
              icon:
                type: string
                example: https://ik.imagekit.io/fortyfour/default-image.jpg
              iconName:
                type: string
                example: meeting-room
              description:
                type: string
                example: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas quis bibendum ipsum. 
        capacity:
          type: integer
          example: 1000
        price:
          type: object
          properties:
            annual:
              type: integer
              example: 12000000
            monthly:
              type: integer
              example: 1000000
        owner:
          type: string
          example: PT. Graha Sidang Pratama
        location:
          type: object
          properties:
            address:
              type: string
              example: Jl. Jend. Sudirman Kav. 1
            city:
              type: string
              example: Jakarta Selatan
            district:
              type: string
              example: Tanah Abang
            geo:
              type: object
              properties:
                lat:
                  type: number
                  example: -6.1753924
                long:
                  type: number
                  example: 106.827153
        agent:
          type: object
          properties:
            id:
              type: string
              format: uuid
              example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
            name:
              type: string
              example: Admin 1
            email:
              type: string
              example: oz@mail.com
            phone:
              type: string
              example: 6281234567890
            picture:
              type: string
              example: https://ik.imagekit.io/fortyfour/default-image.jpg

    BuildingDetails:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
        name:
          type: string
          example: Jakarta Convention Center
        pictures:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
                example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
              index:
                type: integer
                example: 1
              url:
                type: string
                example: https://ik.imagekit.io/fortyfour/default-image.jpg
              alt:
                type: string
                example: Jakarta Convention Center
        description:
          type: string
          example: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas quis bibendum ipsum. Maecenas in ante at velit rhoncus facilisis vel lacinia turpis. Fusce blandit ac augue a tincidunt. Pellentesque tristique augue rhoncus tortor dapibus vulputate condimentum in dolor. Aenean imperdiet augue eu facilisis luctus. Vivamus pretium in mauris sed interdum. Pellentesque cursus sem eget turpis tempus, nec ultrices elit porta.
        facilities:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                example: Meeting Room
              icon:
                type: string
                example: https://ik.imagekit.io/fortyfour/default-image.jpg
              iconName:
                type: string
                example: meeting-room
              description:
                type: string
                example: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas quis bibendum ipsum.
        capacity:
          type: integer
          example: 1000
        price:
          type: object
          properties:
            annual:
              type: integer
              example: 12000000
            monthly:
              type: integer
              example: 1000000
        owner:
          type: string
          example: PT. Graha Sidang Pratama
        location:
          type: object
          properties:
            address:
              type: string
              example: Jl. Jend. Sudirman Kav. 1
            city:
              type: string
              example: Jakarta Selatan
            district:
              type: string
              example: Tanah Abang
            geo:
              type: object
              properties:
                lat:
                  type: number
                  example: -6.1753924
                long:
                  type: number
                  example: 106.827153
        agent:
          type: object
          properties:
            id:
              type: string
              format: uuid
              example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
            name:
              type: string
              example: Admin 1
            email:
              type: string
              example: oz@mail.com
            phone:
              type: string
              example: 6281234567890
            picture:
              type: string
              example: https://ik.imagekit.io/fortyfour/default-image.jpg
        isPublished:
          type: boolean
          example: true

    ReservationsStat:
      type: object
      properties:
        date:
          type: string
          format: date
        total:
          type: integer
    BriefReservationDetails:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
        building:
          type: object
          properties:
            id:
              type: string
              format: uuid
              example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
            name:
              type: string
              example: Jakarta Convention Center
            pictures:
              type: string
              format: url
              example: https://ik.imagekit.io/fortyfour/default-image.jpg
            city:
              type: string
              example: Jakarta Selatan
        tenant:
          type: object
          properties:
            id:
              type: string
              format: uuid
              example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
            name:
              type: string
              example: PT. Graha Sidang Pratama
            email:
              type: string
              example: oz@mail.com
            picture:
              type: string
              format: url
              example: https://ik.imagekit.io/fortyfour/default-image.jpg
        startDate:
          type: string
          format: date
          example: 2020-01-01
        endDate:
          type: string
          format: date
          example: 2020-01-01
        duration:
          type: integer
          example: 1
        amount:
          type: integer
          example: 1000000
        status:
          type: object
          properties:
            id:
              type: integer
              example: 1
            status:
              type: string
              example: Pending
        expiredAt:
          type: string
          format: date-time
          example: 0001-01-01 00:00:00
        createdAt:
          type: string
          format: date-time
          example: 0001-01-01 00:00:00
    BriefUserDetails:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
        name:
          type: string
          example: John Doe
        email:
          type: string
          example: oz@email.com
        phone:
          type: string
          example: 081234567890
        picture:
          type: string
          format: url
          example: https://ik.imagekit.io/fortyfour/default-image.jpg
    UserDetail:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
        name:
          type: string
          example: John Doe
        email:
          type: string
          example: oz@email.com
        phone:
          type: string
          example: 081234567890
        picture:
          type: object
          properties:
            id:
              type: string
              example: 7e4b5c6d-8f9a-4a93-9b0b-c1d2e3f4g5h6
            url:
              type: string
              example: https://ik.imagekit.io/fortyfour/default-image.jpg
        role:
          type: object
          properties:
            id:
              type: integer
              example: 1
            name:
              type: string
              example: admin
        
  
  examples:
    InvalidOrMissingToken:
      value:
        message: invalid or expired JWT
    InvalidRequestBody:
      description: Invalid request body due to either syntactically incorrect or confrom to the schema (e.g. missing required fields)
      value:
        message: invalid request body
    InvalidEmail:
      description: Invalid email format
      value:
        message: invalid request body
        data:
          - field: email
            reason: must be email
    InvalidPassword:
      description: invalid request body
      value:
        message: invalid password format
        data:
          - field: password
            reason: must be at least 8 characters
    InvalidOTP:
      description: invalid OTP, either expired or not found
      value:
        message: invalid OTP
    InvalidPictureID:
      description: picture id is invalid either because it is not a valid uuid or it does not exist in the database
      value:
        message: invalid picture id
    InvalidDistrictID:
      description: district id is invalid either because it is not a valid id or it does not exist in the database
      value:
        message: district id is invalid
    InvalidCityID:
      description: city id is invalid either because it is not a valid id or it does not exist in the database
      value:
        message: city id is invalid
    InvalidBuildingID:
      description: building id is invalid either because it is not a valid id or it does not exist in the database
      value:
        message: building id is invalid
    InvalidUserID:
      description: user id is invalid either because it is not a valid id or it does not exist in the database
      value:
        message: user id is invalid
    InvalidStatusID:
      description: status is invalid either because it is not a valid status
      value:
        message: status id is invalid
    InvalidStartDate:
      description: Start date is in invalid format
      value:
        message: invalid start date
    InvalidDateRange:
      description: End date is before start date
      value:
        message: start date must be before end date
    InvalidPictureIndex:
      description: Invalid picture index
      value:
        message: invalid request body
        data:
          - field: index
            reason: must be greater than or equal to 0
    InvalidPicture:
      description: Invalid picture
      value:
        message: invalid request body
        data:
          - field: picture
            reason: must be a valid picture
    InvalidFacilityDescription:
      description: Invalid facility description
      value:
        message: invalid request body
        data:
          - field: description
            reason: must be at least 3 characters
    InvalidFacilityName:
      description: Invalid facility name
      value:
        message: invalid request body
        data:
          - field: name
            reason: must be at least 3 characters
    InvalidFacilityIconID:
      description: Invalid facility icon id
      value:
        message: invalid facility icon id

  securitySchemes:
    access_token:
      type: http
      scheme: bearer
      bearerFormat: JWT
    refresh_token:
      type: http
      scheme: bearer
      bearerFormat: JWT

tags:
  - name: Auth
    description: Authentication
  - name: EndUser.Users
    description: End user users related endpoints
  - name: EndUser.Reservations
    description: End user reservations related endpoints
  - name: EndUser.Payments
    description: End user payments related endpoints
  - name: Admin.Users
    description: Users related endpoints for admin only
  - name: Admin.Buildings
    description: Buildings related endpoints for admin only
  - name: Admin.Reservations
    description: Reservations related endpoints for admin only
  - name: Admin.Payments
    description: Payments related endpoints for admin only
  - name: Buildings
    description: Buildings related endpoints
  - name: Payments
    description: Payments related endpoints
  - name: Locations
    description: Locations related endpoints
